<html>

<head>
<title>WEBGL Interaction Test</title>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

<script type="text/javascript">

    var canvas = null;
    var mouseDown = false;
    var lastMouseX = null;
    var lastMouseY = null;
    var deltaX = 0;
    var deltaY = 0;
    var wheelDelta = 0;

    function handleMouseDown(event) {
        mouseDown = true;
        lastMouseX = event.clientX;
        lastMouseY = event.clientY;
    }

    function handleMouseUp(event) {
        mouseDown = false;
    }

    function handleMouseMove(event) {
        if (!mouseDown) {
            return;
        }
        var newX = event.clientX;
        var newY = event.clientY;

        deltaX = newX - lastMouseX
        deltaY = newY - lastMouseY;

        lastMouseX = newX
        lastMouseY = newY;
    }

    function handleMouseWheel(event) {
        wheelDelta = (event.wheelDelta || -event.detail);
        lastMouseX = event.clientX;
        lastMouseY = event.clientY;
    }

    function webGLStart() {
        canvas = document.getElementById("webgl-canvas");

        canvas.onmousedown = handleMouseDown;
        canvas.onmouseup = handleMouseUp;
        canvas.onmousemove = handleMouseMove;
        if (canvas.addEventListener) {
            // IE9, Chrome, Safari, Opera
            canvas.addEventListener("mousewheel", handleMouseWheel, false);
            // Firefox
            canvas.addEventListener("DOMMouseScroll", handleMouseWheel, false);
        }
    }

</script>

<style type="text/css">
    * {
      margin: 0;
      padding: 0;
    }
</style>

</head>


<body onload="webGLStart();">
    <canvas id="webgl-canvas" style="border: none;" width="1000" height="1000"></canvas>
</body>

</html>
